{"paragraphs":[{"text":"%md\n## Variable-Length Paths\n\nThis tutorial shows how to find **shortest paths** and **cheapest paths**, as well as how **horizontal aggregation** works.\n\nPlease visit [the relevant section in pgql-lang.org](https://pgql-lang.org/spec/1.3/#variable-length-paths) for more details.\n\n![](https://user-images.githubusercontent.com/4862919/88672488-7cbbd800-d122-11ea-9a9f-12302837cf92.jpg)","user":"anonymous","dateUpdated":"2020-10-09T05:22:05+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Variable-Length Paths</h2>\n<p>This tutorial shows how to find <strong>shortest paths</strong> and <strong>cheapest paths</strong>, as well as how <strong>horizontal aggregation</strong> works.</p>\n<p>Please visit <a href=\"https://pgql-lang.org/spec/1.3/#variable-length-paths\">the relevant section in pgql-lang.org</a> for more details.</p>\n<p><img src=\"https://user-images.githubusercontent.com/4862919/88672488-7cbbd800-d122-11ea-9a9f-12302837cf92.jpg\" /></p>\n</div>"}]},"apps":[],"jobName":"paragraph_1595943157208_1455213789","id":"20200303-214034_1675571787","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:05+0000","dateFinished":"2020-10-09T05:22:05+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:52450"},{"text":"%pgx\nimport oracle.pgx.api.*\nimport groovy.json.*\n\nbaseUrl = 'http://graph-server:7007'\nusername = 'graph_dev'\npassword = 'Welcome1'\n\nconn = new URL(\"$baseUrl/auth/token\").openConnection()\nconn.setRequestProperty('Content-Type', 'application/json')\ntoken = conn.with {\n  doOutput = true\n  requestMethod = 'POST'\n  outputStream.withWriter { writer ->\n    writer << JsonOutput.toJson([username: username, password: password])\n  }\n  return new JsonSlurper().parseText(content.text).access_token\n}\n\ninstance = Pgx.getInstance(baseUrl, token)\nsession = instance.createSession(\"my-session\")","user":"anonymous","dateUpdated":"2020-10-09T05:22:05+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1602220896236_1045437221","id":"20201009-052136_703783504","dateCreated":"2020-10-09T05:21:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:57296","dateFinished":"2020-10-09T05:22:06+0000","dateStarted":"2020-10-09T05:22:05+0000","title":"Connect to Graph Server","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"PgxSession[ID=4a5b1c76-f5c1-42b7-8e88-785ccc9f9c0b,source=my-session]"}]}},{"title":"Load graph","text":"%pgx\ngraph = session.getGraph(\"Learn PGQL 3\")","user":"anonymous","dateUpdated":"2020-10-09T05:22:06+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"PgxGraph[name=Learn PGQL 3,N=8,E=10,created=1602172178249]"}]},"apps":[],"jobName":"paragraph_1595943157229_-1573905017","id":"20200728-114724_335653543","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:06+0000","dateFinished":"2020-10-09T05:22:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52451"},{"title":"Quantifiers","text":"%pgx\n// Find a shortest path from account 10039 to account 2090, following only transaction edges\ngraph.queryPgql(\"\"\"\nSELECT a.number AS a,\n       b.number AS b,\n       COUNT(e) AS pathLength,\n       ARRAY_AGG(e.amount) AS amounts\n  FROM MATCH SHORTEST ( (a:Account) -[e:transaction]->* (b:Account) )\n WHERE a.number = 10039 AND b.number = 2090\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:06+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":84.78125,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"a":"string","b":"string","pathLength":"string","amounts":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"a\tb\tpathLength\tamounts\n10039\t2090\t3\t[1000.0, 1500.3, 9999.5]"}]},"apps":[],"jobName":"paragraph_1595943157249_-273805242","id":"20200302-212041_1026051053","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:07+0000","dateFinished":"2020-10-09T05:22:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52452"},{"title":"Horizontal aggregation using group variables","text":"%pgx\n// Find the shortest paths from 10039 to two accounts, 1001 and 2090, then return the sum of the path lengths\ngraph.queryPgql(\"\"\"\nSELECT SUM(COUNT(e)) AS sumOfPathLengths\n  FROM MATCH SHORTEST ( (a:Account) -[e:transaction]->* (b:Account) )\n WHERE a.number = 10039 AND (b.number = 1001 OR b.number = 2090)\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:07+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":92,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"sumOfPathLengths":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"sumOfPathLengths\n5"}]},"apps":[],"jobName":"paragraph_1595943157249_2112880173","id":"20200303-211616_495605545","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:07+0000","dateFinished":"2020-10-09T05:22:08+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52453"},{"title":"Horizontal aggregation in WHERE","text":"%pgx\n// Find the shortest paths from 10039 to three accounts, 8021, 1001, and 2090, then return the paths whose lengths are equal of smaller than 2\ngraph.queryPgql(\"\"\"\n  SELECT b.number AS b,\n         COUNT(e) AS pathLength,\n         ARRAY_AGG(e.amount) AS transactions\n    FROM MATCH SHORTEST ( (a:Account) -[e:transaction]->* (b:Account) )\n   WHERE a.number = 10039 AND\n         (b.number = 8021 OR b.number = 1001 OR b.number = 2090) AND\n         COUNT(e) <= 2\nORDER BY pathLength\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:08+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":108,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"b":"string","pathLength":"string","transactions":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"b\tpathLength\ttransactions\n8021\t1\t[1000.0]\n1001\t2\t[1000.0, 1500.3]"}]},"apps":[],"jobName":"paragraph_1595943157250_-1387238200","id":"20200303-223141_283396721","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:08+0000","dateFinished":"2020-10-09T05:22:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52454"},{"title":"Horizontal aggregation in GROUP BY","text":"%pgx\n// Find the 4 shortest paths in the combinations of accounts, and aggregate and sort by the path lengths\ngraph.queryPgql(\"\"\"\n  SELECT COUNT(e) AS pathLength,\n         COUNT(*) AS cnt\n    FROM MATCH SHORTEST ( (a:Account) -[e:transaction]->* (b:Account) )\n   WHERE (a.number = 10039 OR a.number = 8021) AND\n         (b.number = 1001 OR b.number = 2090)\nGROUP BY COUNT(e)\nORDER BY pathLength\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:09+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":168,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"pathLength":"string","cnt":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"pathLength\tcnt\n1\t1\n2\t2\n3\t1"}]},"apps":[],"jobName":"paragraph_1595943157250_1817643748","id":"20200728-121529_1649623286","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:10+0000","dateFinished":"2020-10-09T05:22:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52455"},{"title":"Single Shortest Path","text":"%pgx\n// Return the account number or person's name of the nodes on the path\ngraph.queryPgql(\"\"\"\n  SELECT COUNT(e) AS num_hops\n       , p1.name AS start\n       , ARRAY_AGG ( CASE\n                       WHEN has_label(dst, 'Account')\n                         THEN CAST(dst.number AS STRING)\n                       ELSE dst.name\n                     END\n                   ) AS path\n    FROM MATCH SHORTEST ( (p1:Person) (-[e]- (dst))* (p2:Person) )\n   WHERE p1.name = 'Camille' AND p2.name = 'Liam'\nORDER BY num_hops\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:10+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":104,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"num_hops":"string","start":"string","path":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"num_hops\tstart\tpath\n3\tCamille\t[10039, 2090, Liam]"}]},"apps":[],"jobName":"paragraph_1595943157255_-1581994624","id":"20200728-121543_851814387","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:11+0000","dateFinished":"2020-10-09T05:22:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52456"},{"title":"Top-K Shortest Path (1)","text":"%pgx\n// Return top 7 shortest paths starting and ending at the same account\ngraph.queryPgql(\"\"\"\n  SELECT COUNT(e) AS num_hops\n       , SUM(e.amount) AS total_amount\n       , ARRAY_AGG(e.amount) AS amounts_along_path\n    FROM MATCH TOP 7 SHORTEST ( (a:Account) -[e:transaction]->* (b:Account) )\n   WHERE a.number = 10039 AND a = b\nORDER BY num_hops, total_amount\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:46+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":288.056,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"num_hops":"string","total_amount":"string","amounts_along_path":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"num_hops\ttotal_amount\tamounts_along_path\n0\t0.0\tNULL\n4\t22399.8\t[1000.0, 1500.3, 9999.5, 9900.0]\n4\t23900.2\t[1000.0, 3000.7, 9999.5, 9900.0]\n8\t44799.600000000006\t[1000.0, 1500.3, 9999.5, 9900.0, 1000.0, 1500.3, 9999.5, 9900.0]\n8\t46300.0\t[1000.0, 1500.3, 9999.5, 9900.0, 1000.0, 3000.7, 9999.5, 9900.0]\n8\t46300.0\t[1000.0, 3000.7, 9999.5, 9900.0, 1000.0, 1500.3, 9999.5, 9900.0]\n8\t47800.399999999994\t[1000.0, 3000.7, 9999.5, 9900.0, 1000.0, 3000.7, 9999.5, 9900.0]"}]},"apps":[],"jobName":"paragraph_1595943157255_-1644446158","id":"20200728-121544_355739833","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:12+0000","dateFinished":"2020-10-09T05:22:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52457"},{"title":"Top-K Shortest Path (2)","text":"%pgx\n// From the result above, remove zero length path and the paths visit the same edges multiple times\ngraph.queryPgql(\"\"\"\n  SELECT COUNT(e) AS num_hops\n       , SUM(e.amount) AS total_amount\n       , ARRAY_AGG(e.amount) AS amounts_along_path\n    FROM MATCH TOP 7 SHORTEST ( (a:Account) -[e:transaction]->* (b:Account) )\n   WHERE a.number = 10039 AND a = b AND COUNT(DISTINCT e) = COUNT(e) AND COUNT(e) > 0\nORDER BY num_hops, total_amount\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:13+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":122,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"num_hops":"string","total_amount":"string","amounts_along_path":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"num_hops\ttotal_amount\tamounts_along_path\n4\t22399.8\t[1000.0, 1500.3, 9999.5, 9900.0]\n4\t23900.2\t[1000.0, 3000.7, 9999.5, 9900.0]"}]},"apps":[],"jobName":"paragraph_1595943157256_1419526150","id":"20200728-121546_290505134","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:13+0000","dateFinished":"2020-10-09T05:22:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52458"},{"title":"Scalar subqueries","text":"%pgx\n// For each person, the subquery results are collected as scalar values \ngraph.queryPgql(\"\"\"\n  SELECT p.name AS name\n       , ( SELECT SUM(t.amount)\n             FROM MATCH (a) <-[t:transaction]- (:Account)\n         ) AS sum_incoming\n       , ( SELECT SUM(t.amount)\n             FROM MATCH (a) -[t:transaction]-> (:Account)\n         ) AS sum_outgoing\n       , ( SELECT COUNT(DISTINCT p2)\n             FROM MATCH (a) -[t:transaction]- (:Account) <-[:ownerOf]- (p2:Person)\n            WHERE p2 <> p\n         ) AS num_persons_transacted_with\n       , ( SELECT COUNT(DISTINCT c)\n             FROM MATCH (a) -[t:transaction]- (:Account) <-[:ownerOf]- (c:Company)\n         ) AS num_companies_transacted_with\n    FROM MATCH (p:Person) -[:ownerOf]-> (a:Account)\nORDER BY sum_outgoing + sum_incoming DESC\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:14+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":152,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"name":"string","sum_incoming":"string","sum_outgoing":"string","num_persons_transacted_with":"string","num_companies_transacted_with":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"name\tsum_incoming\tsum_outgoing\tnum_persons_transacted_with\tnum_companies_transacted_with\nLiam\t9999.5\t9900.0\t1\t1\nCamille\t9900.0\t1000.0\t2\t0\nNikita\t1000.0\t4501.0\t1\t1"}]},"apps":[],"jobName":"paragraph_1595943157256_-253358280","id":"20200728-121547_1437981992","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:15+0000","dateFinished":"2020-10-09T05:22:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52459"},{"text":"%md\n## Appendix\n\nSimpler examples.","user":"anonymous","dateUpdated":"2020-10-09T05:22:17+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Appendix</h2>\n<p>Simpler examples.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1595943157257_395250793","id":"20200728-124156_1934077650","dateCreated":"2020-07-28T13:32:37+0000","dateStarted":"2020-10-09T05:22:17+0000","dateFinished":"2020-10-09T05:22:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52460"},{"title":"Shortest Path","text":"%pgx\ngraph.queryPgql(\"\"\"\nSELECT COUNT(e) AS num_hops\n     , SUM(e.amount) AS total_amount\n     , ARRAY_AGG(e.amount) AS amounts_along_path\n  FROM MATCH SHORTEST ( (a:Account) -[e:transaction]->* (b:Account) )\n WHERE a.number = 10039\n   AND b.number = 2090\n ORDER BY num_hops, total_amount\n\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:17+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":88,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"num_hops":"string","total_amount":"string","amounts_along_path":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"num_hops\ttotal_amount\tamounts_along_path\n3\t12499.8\t[1000.0, 1500.3, 9999.5]"}]},"apps":[],"jobName":"paragraph_1595948747281_266087153","id":"20200728-150547_1686606161","dateCreated":"2020-07-28T15:05:47+0000","dateStarted":"2020-10-09T05:22:18+0000","dateFinished":"2020-10-09T05:22:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52461"},{"title":"Top K Shortest Path","text":"%pgx\ngraph.queryPgql(\"\"\"\nSELECT COUNT(e) AS num_hops\n     , SUM(e.amount) AS total_amount\n     , ARRAY_AGG(e.amount) AS amounts_along_path\n  FROM MATCH TOP 3 SHORTEST ( (a:Account) -[e:transaction]->* (b:Account) )\n WHERE a.number = 10039\n   AND b.number = 2090\n ORDER BY num_hops, total_amount\n\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:19+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":144,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"num_hops":"string","total_amount":"string","amounts_along_path":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"num_hops\ttotal_amount\tamounts_along_path\n3\t12499.8\t[1000.0, 1500.3, 9999.5]\n3\t14000.2\t[1000.0, 3000.7, 9999.5]\n7\t34899.6\t[1000.0, 1500.3, 9999.5, 9900.0, 1000.0, 1500.3, 9999.5]"}]},"apps":[],"jobName":"paragraph_1596068060236_1350571669","id":"20200730-001420_437116764","dateCreated":"2020-07-30T00:14:20+0000","dateStarted":"2020-10-09T05:22:19+0000","dateFinished":"2020-10-09T05:22:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52462"},{"title":"Cheapest Path","text":"%pgx\ngraph.queryPgql(\"\"\"\nSELECT COUNT(e) AS num_hops\n     , SUM(e.amount) AS total_amount\n     , ARRAY_AGG(e.amount) AS amounts_along_path\n  FROM MATCH CHEAPEST ( (a:Account) (-[e:transaction]-> COST e.amount)* (b:Account) )\n WHERE a.number = 10039\n   AND b.number = 2090\n ORDER BY num_hops, total_amount\n\"\"\");","user":"anonymous","dateUpdated":"2020-10-09T05:22:20+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":88,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"num_hops":"string","total_amount":"string","amounts_along_path":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"num_hops\ttotal_amount\tamounts_along_path\n3\t12499.8\t[1000.0, 1500.3, 9999.5]"}]},"apps":[],"jobName":"paragraph_1596031249079_-1635162603","id":"20200729-140049_1107130858","dateCreated":"2020-07-29T14:00:49+0000","dateStarted":"2020-10-09T05:22:20+0000","dateFinished":"2020-10-09T05:22:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52463"},{"text":"%md\nEnd of Document\n\n---","user":"anonymous","dateUpdated":"2020-10-09T05:22:21+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>End of Document</p>\n<hr/>\n</div>"}]},"apps":[],"jobName":"paragraph_1596030856223_-1868212460","id":"20200729-135416_37105836","dateCreated":"2020-07-29T13:54:16+0000","dateStarted":"2020-10-09T05:22:21+0000","dateFinished":"2020-10-09T05:22:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52464"},{"text":"%md\n","user":"anonymous","dateUpdated":"2020-10-09T05:20:41+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1596068116793_-923540104","id":"20200730-001516_2081814783","dateCreated":"2020-07-30T00:15:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:52465"}],"name":"Learn PGQL 3","id":"2FF2QZ922","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"pgx:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}